<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WEDERPHARMA | Swiss Premium</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body { font-family: 'Inter', sans-serif; background: #f8fbfe; margin:0; }
        .p-card { background: white; border: 1px solid #e1f0f7; padding: 20px; border-radius: 12px; display: flex; flex-direction: column; height: 100%; transition: 0.3s; }
        .p-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
    </style>
</head>
<body>

    <div class="bg-[#bde4f4] px-6 py-2 text-[11px] font-bold text-[#003a5a] flex justify-between items-center">
        <span>SWISS PHARMA QUALITY</span>
        <select id="langSwitch" onchange="initPage()" class="bg-transparent outline-none font-bold cursor-pointer">
            <option value="de">DEUTSCH</option>
            <option value="zh">中文</option>
        </select>
    </div>

    <nav class="bg-white border-b sticky top-0 z-50 px-6 py-4">
        <div class="max-w-[1440px] mx-auto flex flex-wrap items-center justify-between gap-4">
            <div class="text-2xl font-black text-[#0076a3] cursor-pointer" onclick="location.reload()">WEDERPHARMA</div>
            <div class="flex-grow max-w-xl order-3 md:order-2 w-full">
                <input type="text" id="searchBox" oninput="doSearch()" class="w-full px-5 py-2 rounded-full bg-gray-50 border outline-none focus:border-blue-300" placeholder="Suche...">
            </div>
            <div class="flex items-center gap-6 order-2 md:order-3 text-[#003a5a]">
                <div class="text-center cursor-pointer"><i class="fa-regular fa-user text-xl"></i><p class="text-[9px] font-bold uppercase" id="l-acc">Anmelden</p></div>
                <div class="text-center cursor-pointer"><i class="fa-solid fa-cart-shopping text-xl"></i><p class="text-[9px] font-bold uppercase" id="l-cart">Korb</p></div>
            </div>
        </div>
    </nav>

    <main class="max-w-[1440px] mx-auto px-6 py-8">
        <div class="bg-blue-100 rounded-3xl p-8 mb-10 border border-blue-200">
            <h1 id="p-t" class="text-3xl font-black text-[#003a5a]">20% Rabatt</h1>
            <p id="p-s" class="text-blue-700 mt-2 font-medium">Winter-Angebote für Ihre Gesundheit.</p>
        </div>

        <h2 id="h-best" class="text-2xl font-black mb-6 text-[#003a5a]">Bestseller</h2>
        <div id="productGrid" class="grid grid-cols-2 md:grid-cols-5 gap-6 mb-24 min-h-[400px]">
            </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-20">
            <div class="bg-white p-8 rounded-2xl border border-blue-100 text-center shadow-sm">
                <i class="fa-solid fa-truck-fast text-[#0076a3] text-3xl mb-4"></i>
                <h4 class="font-bold text-[#003a5a]" id="e1">Schnelle Lieferung</h4>
            </div>
            <div class="bg-white p-8 rounded-2xl border border-blue-100 text-center shadow-sm">
                <i class="fa-solid fa-certificate text-[#0076a3] text-3xl mb-4"></i>
                <h4 class="font-bold text-[#003a5a]" id="e2">Schweizer Qualität</h4>
            </div>
            <div class="bg-white p-8 rounded-2xl border border-blue-100 text-center shadow-sm">
                <i class="fa-solid fa-user-doctor text-[#0076a3] text-3xl mb-4"></i>
                <h4 class="font-bold text-[#003a5a]" id="e3">Experten-Rat</h4>
            </div>
        </div>

        <div class="bg-[#003a5a] rounded-3xl p-12 text-center text-white mb-20">
            <h3 class="text-2xl font-bold mb-4" id="l-news">Bleiben Sie gesund!</h3>
            <div class="flex max-w-md mx-auto gap-2">
                <input type="text" class="flex-grow p-3 rounded-xl text-black outline-none border-none" placeholder="E-Mail">
                <button class="bg-[#0076a3] px-8 rounded-xl font-bold hover:bg-blue-400 transition">OK</button>
            </div>
        </div>
    </main>

    <footer class="bg-white border-t py-12 text-center text-gray-400 text-xs">
        © 2025 WEDERPHARMA ZÜRICH | SWITZERLAND
    </footer>

    <script>
        // 统一变量名为 myProducts
        const myProducts = [
            { id:1, de:"Omega-3 1400mg Pure", zh:"深海鱼油 1400mg", price:"28.95", brand:"WEDER", img:"https://images.unsplash.com/photo-1550573105-4584e8d05967?auto=format&fit=crop&w=300" },
            { id:2, de:"Magnesium 400 Forte", zh:"高浓度镁片 400", price:"19.50", brand:"SANDOZ", img:"https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?auto=format&fit=crop&w=300" },
            { id:3, de:"Hautpflege Serum", zh:"修护精华液", price:"24.20", brand:"LA ROCHE", img:"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?auto=format&fit=crop&w=300" },
            { id:4, de:"Vitamin D3 Tropfen", zh:"维他命 D3 滴剂", price:"32.00", brand:"SWISS", img:"https://images.unsplash.com/photo-1550573105-4584e8d05967?auto=format&fit=crop&w=301" },
            { id:5, de:"Schmerzgel Forte", zh:"止痛凝胶", price:"15.80", brand:"VOLTAREN", img:"https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?auto=format&fit=crop&w=301" }
        ];

        function initPage() {
            try {
                const lang = document.getElementById('langSwitch').value;
                const isZh = (lang === 'zh');
                
                // 1. 更新所有文字 ID
                const updateText = (id, text) => { if(document.getElementById(id)) document.getElementById(id).innerText = text; };
                
                updateText('l-acc', isZh ? "登录" : "Anmelden");
                updateText('l-cart', isZh ? "购物车" : "Korb");
                updateText('h-best', isZh ? "畅销推荐" : "Bestseller");
                updateText('p-t', isZh ? "20% 优惠" : "20% Rabatt");
                updateText('p-s', isZh ? "冬季健康守护" : "Winter-Angebote.");
                updateText('e1', isZh ? "快速送达" : "Schnelle Lieferung");
                updateText('e2', isZh ? "瑞士品质" : "Schweizer Qualität");
                updateText('e3', isZh ? "专家建议" : "Experten-Rat");
                updateText('l-news', isZh ? "保持健康！订阅我们的资讯" : "Bleiben Sie gesund!");
                if(document.getElementById('searchBox')) document.getElementById('searchBox').placeholder = isZh ? "搜索产品..." : "Suche...";

                // 2. 渲染产品
                renderGrid(myProducts);
            } catch (e) { console.log("Init error: ", e); }
        }

        function renderGrid(list) {
            const grid = document.getElementById('productGrid');
            const lang = document.getElementById('langSwitch').value;
            if(!grid) return;

            grid.innerHTML = list.map(p => `
                <div class="p-card">
                    <img src="${p.img}" class="h-32 w-full object-contain mb-2" onerror="this.src='https://placehold.co/200?text=Pharma'">
                    <p class="text-[10px] text-blue-400 font-bold uppercase">${p.brand}</p>
                    <h3 class="text-sm font-bold text-[#003a5a] mb-4 h-10 overflow-hidden leading-tight">${lang==='zh' ? p.zh : p.de}</h3>
                    <div class="mt-auto pt-4 flex justify-between items-center border-t border-gray-50">
                        <span class="text-lg font-black text-[#0076a3]">${p.price} <small class="text-[10px]">CHF</small></span>
                        <div class="bg-[#0076a3] text-white w-8 h-8 rounded-full flex items-center justify-center text-xs"><i class="fa-solid fa-plus"></i></div>
                    </div>
                </div>
            `).join('');
        }

        function doSearch() {
            const val = document.getElementById('searchBox').value.toLowerCase();
            const filtered = myProducts.filter(p => p.de.toLowerCase().includes(val) || p.zh.toLowerCase().includes(val));
            renderGrid(filtered);
        }

        // 终极启动方案：不管是哪种加载方式，确保执行
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initPage);
        } else {
            initPage();
        }
        // 双重保险：0.8秒后再次强制检查，防止因为网络慢导致的空白
        setTimeout(initPage, 800);
    </script>
</body>
</html>
